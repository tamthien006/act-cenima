<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/movieDetailRoot"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/neutral_background"
    tools:context=".MovieDetailActivity">

    <androidx.core.widget.NestedScrollView
        android:layout_width="0dp"
        android:layout_height="0dp"
        android:clipToPadding="false"
        android:paddingStart="20dp"
        android:paddingTop="16dp"
        android:paddingEnd="20dp"
        android:paddingBottom="32dp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/headerLayout">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical">

            <!-- Movie Info Section -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:layout_marginBottom="24dp">

                <!-- Movie Poster -->
                <FrameLayout
                    android:layout_width="120dp"
                    android:layout_height="180dp"
                    android:layout_marginEnd="16dp"
                    android:background="@drawable/bg_movie_card">

                    <ImageView
                        android:id="@+id/moviePoster"
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:scaleType="centerCrop"
                        android:contentDescription="Movie poster" />

                    <LinearLayout
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_gravity="top|start"
                        android:orientation="horizontal"
                        android:padding="8dp">

                        <TextView
                            android:id="@+id/movieAgeRating"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_marginEnd="4dp"
                            android:background="@drawable/bg_chip_yellow"
                            android:text="T16"
                            android:textColor="@color/white"
                            android:textSize="12sp"
                            android:textStyle="bold" />

                        <TextView
                            android:id="@+id/movieHotBadge"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:background="@drawable/bg_chip_orange"
                            android:text="HOT"
                            android:textColor="@color/white"
                            android:textSize="12sp"
                            android:textStyle="bold"
                            android:visibility="gone" />
                    </LinearLayout>
                </FrameLayout>

                <!-- Movie Title and Metadata -->
                <LinearLayout
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical">

                    <TextView
                        android:id="@+id/movieTitle"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="Tee Yod: Quỷ Ăn Tạng"
                        android:textColor="@color/neutral_text"
                        android:textSize="20sp"
                        android:textStyle="bold"
                        android:layout_marginBottom="16dp" />

                    <!-- Duration -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginBottom="8dp">

                        <ImageView
                            android:layout_width="20dp"
                            android:layout_height="20dp"
                            android:src="@drawable/ic_clock"
                            android:tint="@color/neutral_subtext"
                            android:layout_marginEnd="8dp" />

                        <TextView
                            android:id="@+id/movieDuration"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="104 phút"
                            android:textColor="@color/neutral_text"
                            android:textSize="14sp" />
                    </LinearLayout>

                    <!-- Release Date -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginBottom="8dp">

                        <ImageView
                            android:layout_width="20dp"
                            android:layout_height="20dp"
                            android:src="@drawable/ic_calendar"
                            android:tint="@color/neutral_subtext"
                            android:layout_marginEnd="8dp" />

                        <TextView
                            android:id="@+id/movieReleaseDate"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Khởi chiếu: 2025-01-10"
                            android:textColor="@color/neutral_text"
                            android:textSize="14sp" />
                    </LinearLayout>

                    <!-- Rating -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical">

                        <ImageView
                            android:layout_width="20dp"
                            android:layout_height="20dp"
                            android:src="@drawable/ic_star_orange"
                            android:tint="@color/tag_orange"
                            android:layout_marginEnd="8dp" />

                        <TextView
                            android:id="@+id/movieRating"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="8.5/10 (1,234 đánh giá)"
                            android:textColor="@color/neutral_text"
                            android:textSize="14sp" />
                    </LinearLayout>
                </LinearLayout>
            </LinearLayout>

            <!-- Watch Trailer Button - Temporarily hidden -->
            <!--
            <Button
                android:id="@+id/btnWatchTrailer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:background="@drawable/bg_primary_button"
                android:paddingStart="24dp"
                android:paddingTop="16dp"
                android:paddingEnd="24dp"
                android:paddingBottom="16dp"
                android:text="Xem Trailer"
                android:textAllCaps="false"
                android:textColor="@color/white"
                android:textSize="16sp"
                android:textStyle="bold"
                android:drawableStart="@drawable/ic_play"
                android:drawablePadding="12dp"
                android:gravity="center"
                android:layout_marginBottom="24dp"
                android:visibility="gone" />
            -->

            <!-- Synopsis Section -->
            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Tóm tắt nội dung"
                android:textColor="@color/neutral_text"
                android:textSize="18sp"
                android:textStyle="bold"
                android:layout_marginBottom="12dp" />

            <TextView
                android:id="@+id/movieDescription"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Một bộ phim kinh dị đầy kịch tính với những tình tiết hấp dẫn và bất ngờ. Câu chuyện xoay quanh những bí ẩn kinh hoàng và cuộc chiến sinh tồn của các nhân vật chính. Với kỹ xảo đỉnh cao và diễn xuất ấn tượng, đây hứa hẹn là một trải nghiệm điện ảnh không thể bỏ lỡ."
                android:textColor="@color/neutral_subtext"
                android:textSize="14sp"
                android:lineSpacingExtra="4dp"
                android:layout_marginBottom="24dp" />

            <!-- Showtimes Section -->
            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Chọn suất chiếu"
                android:textColor="@color/neutral_text"
                android:textSize="18sp"
                android:textStyle="bold"
                android:layout_marginBottom="16dp" />

            <LinearLayout
                android:id="@+id/showtimesContainer"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical" />

        </LinearLayout>
    </androidx.core.widget.NestedScrollView>

    <!-- Header -->
    <LinearLayout
        android:id="@+id/headerLayout"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:gravity="center_vertical"
        android:paddingStart="20dp"
        android:paddingTop="16dp"
        android:paddingEnd="20dp"
        android:paddingBottom="16dp"
        android:background="@color/white"
        android:elevation="2dp"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintEnd_toEndOf="parent">

        <ImageView
            android:id="@+id/btnBack"
            android:layout_width="24dp"
            android:layout_height="24dp"
            android:src="@drawable/ic_back"
            android:tint="@color/neutral_text"
            android:background="?attr/selectableItemBackgroundBorderless"
            android:padding="4dp"
            android:layout_marginEnd="16dp"
            android:contentDescription="Back" />

        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="Chi tiết phim"
            android:textColor="@color/neutral_text"
            android:textSize="18sp"
            android:textStyle="bold" />
    </LinearLayout>

</androidx.constraintlayout.widget.ConstraintLayout>

